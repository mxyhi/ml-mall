import{_ as C,y as B,r as N,aq as U,A as w,C as V,D as g,p as i,F as p,b as o,s as n,G as s,U as c,q as I,H as L,ay as $,az as E,V as u,v as f}from"./user-0aef1c91.js";import{E as S}from"./index-4c45c20c.js";/* empty css              *//* empty css              */import{C as T}from"./index-517c6840.js";/* empty css              */import"./index-1aa94732.js";import{C as q}from"./index-88acc341.js";import{N as A}from"./index-7f807b9d.js";import{g as D,l as j}from"./auth-1d2729d8.js";import{g as z}from"./avatar-49c9b4b4.js";import{B as F}from"./index-98a02491.js";import"./use-id-90fe8789.js";import"./use-route-dd9e823b.js";import"./index-edc94503.js";import"./index-47ddee7f.js";const G={class:"container"},H={key:0,class:"content"},M={class:"user_name"},O={class:"user_sign"},R={class:"user_sex"},J={class:"logout_box"},K={key:1,class:"no_login_content"},P={__name:"index",setup(Q){const t=B(),l=N(!1),_=U();console.log(t);const m=w();console.log(m),V(async()=>{if(g()){t.setInfo(m),l.value=!0;const a=await D(m);console.log(a)}else t.reset()});const v=()=>{_.push("/user-info")},k=async a=>{const e=await j(g());console.log(e),e.code===1&&($(),E(),_.go(0))};return(a,e)=>{const y=A,b=q,r=T,d=F,h=S;return i(),p("main",G,[o(y,{title:a.$route.meta.title,placeholder:"",fixed:"","left-arrow":"",onClickLeft:e[0]||(e[0]=x=>a.$router.back())},null,8,["title"]),l.value?(i(),p("div",H,[o(b,{class:"user_card",thumb:s(t).avatar?s(t).avatar:s(z)(),onClick:v},{title:n(()=>[c("p",M,u(s(t).name),1)]),tags:n(()=>[c("p",O,u(s(t).sign),1)]),desc:n(()=>[c("p",R,u(s(t).sex?"男":"女"),1)]),_:1},8,["thumb"]),o(r,{icon:"logistics",title:"我的收货地址","is-link":"",to:"/address-list"}),o(r,{icon:"orders-o",title:"我的订单","is-link":"",to:"/order"}),o(r,{icon:"description",title:"我的文章","is-link":"",to:"/my-article"}),o(r,{icon:"star-o",title:"我的收藏","is-link":"",to:"/my-collection"}),o(r,{icon:"good-job-o",title:"我的点赞","is-link":"",to:"/thumbs-up"}),c("div",J,[l.value?(i(),I(d,{key:0,class:"logout_btn",type:"warning",onClick:k},{default:n(()=>[f("退出登录")]),_:1})):L("",!0)])])):(i(),p("div",K,[o(h,{class:"thumbnail",description:"未登录"},{default:n(()=>[o(d,{type:"primary",class:"login_btn",onClick:e[1]||(e[1]=x=>s(_).push("/login"))},{default:n(()=>[f("登录")]),_:1})]),_:1})]))])}}},po=C(P,[["__scopeId","data-v-e9719480"]]);export{po as default};
