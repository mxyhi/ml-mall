import{bi as y,r as f,_ as h,E as C,a8 as w,C as k,p as A,F as B,b as n,s as r,J as S,U as p,ar as T,as as U}from"./user-867e849d.js";import{a as x,T as I}from"./index-88917ddb.js";import{N}from"./index-9c0250d6.js";import{g as u}from"./collection-b0fc5782.js";import{A as v}from"./ArticleList-826febdc.js";import"./use-id-09c0b837.js";import"./use-route-473dc515.js";import"./use-tab-status-b733b44b.js";/* empty css              */import"./index-58f5d4d9.js";import"./index-ff8b65c0.js";/* empty css              */import"./index-a77b27a2.js";import"./index-c5823961.js";import"./index-50df926b.js";const V=y("collection",()=>{const s=f("1");return{active:s,changeActive:a=>{s.value=a}}});const $=s=>(T("data-v-eae79d1b"),s=s(),U(),s),j={class:"item-container"},E={class:"item-container"},F=$(()=>p("div",null,null,-1)),L={__name:"Collection",setup(s){const l=V(),a=f(l.active),g=C(a,o=>{console.log("newVal",o),l.changeActive(o)});w(()=>{g()});const d=async o=>{const t=await u(o);if(console.log(t.data.list),console.log(a.value),a.value==1){const e=t.data.list;return t.data.list=e==null?void 0:e.map(c=>({...c,title:c.goods.name,desc:c.goods.price/100,pic_url:c.goods.picUrl,id:c.object_id})),t}const i=t.data.list;return t.data.list=i==null?void 0:i.map(e=>({...e,title:e.article.title,desc:e.article.desc,pic_url:e.article.picUrl,id:e.object_id})),t},_=async()=>{const o=await u({limit:100,page:1,type:a.value});console.log(o)};k(async()=>{await _()});const b=async o=>{console.log(o),await _()};return(o,t)=>{const i=N,e=x,c=I;return A(),B(S,null,[n(i,{title:o.$route.meta.title,placeholder:"",fixed:"",onClickLeft:t[0]||(t[0]=m=>o.$router.back()),"left-arrow":""},null,8,["title"]),n(c,{active:a.value,"onUpdate:active":t[1]||(t[1]=m=>a.value=m),onChange:b,"offset-top":"46",sticky:"",swipeable:""},{default:r(()=>[n(e,{name:"1",title:"商品"},{default:r(()=>[p("div",j,[n(v,{class:"list",status:1,"api-fn":d,params:{type:1,page:1,limit:10}})])]),_:1}),n(e,{name:"2",title:"文章"},{default:r(()=>[p("div",E,[n(v,{class:"list","api-fn":d,params:{type:2,page:1,limit:10}})])]),_:1})]),_:1},8,["active"]),F],64)}}},Z=h(L,[["__scopeId","data-v-eae79d1b"]]);export{Z as default};
