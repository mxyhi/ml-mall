import{r as d,_ as L,s as f,H as m,b as g,x as n,L as y,U as b,v as k,V as l,W as c,J as p,X as x}from"./user-29809695.js";import{L as A}from"./index-b43909d0.js";/* empty css              */import"./index-ae5d72ae.js";import{C}from"./index-1e51679b.js";const B=(u,a)=>{const i=d([]),o=d(0),s=d(!1),r=d(!1);return{data:i,onLoad:async()=>{try{const t=await u(a);t.code===1&&(o.value=t.data.count,s.value=!1,t.data.list&&i.value.push(...t.data.list||[]))}catch(t){console.error(t)}if(a.page++>parseInt(o.value/a.limit)+1){r.value=!0;return}},loading:s,finished:r,count:o}};const F={class:"title"},I={class:"detail"},D={class:"desc"},N={__name:"ArticleList",props:{articleData:{type:Array,default:[]},apiFn:{type:Function,default:()=>[]},params:{type:Object,default:{}},status:{type:Number,default:2}},setup(u){const a=u,{data:i,onLoad:o,loading:s,finished:r}=B(a.apiFn,a.params);return(_,t)=>{const h=C,v=A;return f(),m("div",null,[g(v,{class:"content",loading:p(s),"onUpdate:loading":t[0]||(t[0]=e=>x(s)?s.value=e:null),finished:p(r),"finished-text":"没有更多了",onLoad:p(o),offset:""},{default:n(()=>[(f(!0),m(y,null,b(p(i),e=>(f(),k(h,{class:"item",thumb:e.pic_url,onClick:V=>a.status==2?_.$router.push({path:"/article-detail",query:{articleId:e.id}}):_.$router.push({name:"goodsDetail",params:{goodsId:e.id}})},{title:n(()=>[l("p",F,c(e.title),1)]),desc:n(()=>[l("p",I,c(e.detail),1)]),price:n(()=>[l("p",D,c(e.desc),1)]),num:n(()=>[l("p",null,c(e.created_at),1)]),_:2},1032,["thumb","onClick"]))),256))]),_:1},8,["loading","finished","onLoad"])])}}},H=L(N,[["__scopeId","data-v-0e683405"]]);export{H as A};
