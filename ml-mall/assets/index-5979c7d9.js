import{_ as b,x as B,r as N,at as w,z as U,A as E,C as d,o as r,E as u,a as n,q as s,F as o,ai as c,p as I,G as L,au as V,av as $,af as m,s as g}from"./user-0dd1e069.js";import{C as S,E as T}from"./index-a997b199.js";/* empty css              */import{C as A}from"./index-d4ce09a5.js";/* empty css              */import"./index-2c5a2d28.js";import{N as q}from"./index-17d6a68d.js";import{g as z,l as D}from"./auth-a612d56d.js";import{g as F}from"./avatar-49c9b4b4.js";import{B as G}from"./index-c1d7c59c.js";import"./use-id-d165ec44.js";import"./use-route-f9688e52.js";const M={class:"container"},O={key:0,class:"content"},R={class:"user_name"},j={class:"user_sign"},H={class:"user_sex"},J={class:"logout_box"},K={key:1,class:"no_login_content"},P={__name:"index",setup(Q){const t=B(),i=N(!1),l=w();console.log(t);const _=U();console.log(_),E(async()=>{if(d()){t.setInfo(_),i.value=!0;const a=await z(_);console.log(a)}else t.reset()});const f=()=>{l.push("/user-info")},v=async a=>{const e=await D(d());console.log(e),e.code===1&&(V(),$(),l.go(0))};return(a,e)=>{const k=q,y=S,x=A,p=G,h=T;return r(),u("main",M,[n(k,{title:a.$route.meta.title,placeholder:"",fixed:"","left-arrow":"",onClickLeft:e[0]||(e[0]=C=>a.$router.back())},null,8,["title"]),i.value?(r(),u("div",O,[n(y,{class:"user_card",thumb:o(t).avatar?o(t).avatar:o(F)(),onClick:f},{title:s(()=>[c("p",R,m(o(t).name),1)]),tags:s(()=>[c("p",j,m(o(t).sign),1)]),desc:s(()=>[c("p",H,m(o(t).sex?"男":"女"),1)]),_:1},8,["thumb"]),n(x,{icon:"logistics",title:"我的收货地址","is-link":"",to:"/address-list"}),c("div",J,[i.value?(r(),I(p,{key:0,class:"logout_btn",type:"warning",onClick:v},{default:s(()=>[g("退出登录")]),_:1})):L("",!0)])])):(r(),u("div",K,[n(h,{class:"thumbnail",description:"未登录"},{default:s(()=>[n(p,{type:"primary",class:"login_btn",onClick:e[1]||(e[1]=C=>o(l).push("/login"))},{default:s(()=>[g("登录")]),_:1})]),_:1})]))])}}},it=b(P,[["__scopeId","data-v-594ec37c"]]);export{it as default};
