import{bp as y,r as f,_ as h,G as w,ab as C,E as k,Q as A,s as B,H as S,b as n,x as r,L as T,bq as v,V as p,av as x,aw as I}from"./user-29809695.js";import{a as U,T as V}from"./index-432300ab.js";import{A as m}from"./ArticleList-fb679f82.js";import"./use-id-06bdbb62.js";import"./use-tab-status-29169c28.js";import"./index-b43909d0.js";/* empty css              */import"./index-ae5d72ae.js";import"./index-1e51679b.js";import"./index-9381fa7b.js";const L=y("collection",()=>{const s=f("1");return{active:s,changeActive:a=>{s.value=a}}});const N=s=>(x("data-v-510f773b"),s=s(),I(),s),$={class:"item-container"},j={class:"item-container"},E=N(()=>p("div",null,null,-1)),q={__name:"Collection",setup(s){const i=L(),a=f(i.active),g=w(a,o=>{console.log("newVal",o),i.changeActive(o)});C(()=>{g()});const _=async o=>{const t=await v(o);if(console.log(t.data.list),console.log(a.value),a.value==1){const e=t.data.list;return t.data.list=e==null?void 0:e.map(c=>({...c,title:c.goods.name,desc:c.goods.price/100,pic_url:c.goods.picUrl,id:c.object_id})),t}const l=t.data.list;return t.data.list=l==null?void 0:l.map(e=>({...e,title:e.article.title,desc:e.article.desc,pic_url:e.article.picUrl,id:e.object_id})).reverse(),t},d=async()=>{const o=await v({limit:100,page:1,type:a.value});console.log(o)};k(async()=>{await d()});const b=async o=>{console.log(o),await d()};return(o,t)=>{const l=A,e=U,c=V;return B(),S(T,null,[n(l,{title:o.$route.meta.title,placeholder:"",fixed:"",onClickLeft:t[0]||(t[0]=u=>o.$router.back()),"left-arrow":""},null,8,["title"]),n(c,{active:a.value,"onUpdate:active":t[1]||(t[1]=u=>a.value=u),onChange:b,"offset-top":"46",sticky:"",swipeable:""},{default:r(()=>[n(e,{name:"1",title:"商品"},{default:r(()=>[p("div",$,[n(m,{class:"list",status:1,"api-fn":_,params:{type:1,page:1,limit:10}})])]),_:1}),n(e,{name:"2",title:"文章"},{default:r(()=>[p("div",j,[n(m,{class:"list","api-fn":_,params:{type:2,page:1,limit:10}})])]),_:1})]),_:1},8,["active"]),E],64)}}},O=h(q,[["__scopeId","data-v-510f773b"]]);export{O as default};
