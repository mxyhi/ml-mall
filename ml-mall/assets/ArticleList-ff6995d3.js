import{r,_ as L,p as _,F as m,b as g,s as n,J as y,T as k,q as x,U as l,V as d,G as p,W as A}from"./user-0aef1c91.js";/* empty css              */import{L as C}from"./index-3b436b11.js";/* empty css              */import"./index-1aa94732.js";import{C as F}from"./index-88acc341.js";const b=(u,a)=>{const i=r([]),o=r(0),s=r(!1),c=r(!1);return{data:i,onLoad:async()=>{try{const t=await u(a);t.code===1&&(o.value=t.data.count,s.value=!1,t.data.list&&i.value.push(...t.data.list||[]))}catch(t){console.error(t)}if(a.page++>parseInt(o.value/a.limit)+1){c.value=!0;return}},loading:s,finished:c,count:o}};const B={class:"title"},I={class:"detail"},V={class:"desc"},w={__name:"ArticleList",props:{articleData:{type:Array,default:[]},apiFn:{type:Function,default:()=>[]},params:{type:Object,default:{}}},setup(u){const a=u,{data:i,onLoad:o,loading:s,finished:c}=b(a.apiFn,a.params);return(f,t)=>{const h=F,v=C;return _(),m("div",null,[g(v,{class:"content",loading:p(s),"onUpdate:loading":t[0]||(t[0]=e=>A(s)?s.value=e:null),finished:p(c),"finished-text":"没有更多了",onLoad:p(o),offset:""},{default:n(()=>[(_(!0),m(y,null,k(p(i),e=>(_(),x(h,{class:"item",thumb:e.pic_url,onClick:D=>f.$router.push({path:"/article-detail",query:{articleId:e.id}})},{title:n(()=>[l("p",B,d(e.title),1)]),desc:n(()=>[l("p",I,d(e.detail),1)]),price:n(()=>[l("p",V,d(e.desc),1)]),num:n(()=>[l("p",null,d(e.created_at),1)]),_:2},1032,["thumb","onClick"]))),256))]),_:1},8,["loading","finished","onLoad"])])}}},J=L(w,[["__scopeId","data-v-86080c04"]]);export{J as A};
